var d4plib_widgets;!function(n,t,i,e){(d4plib_widgets={init:function(){n(i).on("click",".d4p-check-uncheck a",function(t){t.preventDefault();var i="checkall"===n(this).attr("href").substr(1);n(this).parent().parent().find("input[type=checkbox]").prop("checked",i)}),n(i).on("click",".d4plib-widget-tab",function(t){t.preventDefault();var i=n(this).parent(),e=i.next(),c=n(this).attr("href").substr(1),a=void 0!==n(this).data("tabname")?n(this).data("tabname"):c;n(".d4plib-widget-active-tab",i).val(a),n(".d4plib-widget-tab",i).removeClass("d4plib-tab-active").attr("aria-selected","false"),n(".d4plib-tabname-"+c,i).addClass("d4plib-tab-active").attr("aria-selected","true"),n(".d4plib-tab-content",e).removeClass("d4plib-content-active").attr("aria-hidden","true"),n(".d4plib-tabname-"+c,e).addClass("d4plib-content-active").attr("aria-hidden","false")}),n(i).on("keydown",".d4plib-widget-tab[role='tab']",function(t){13===t.which?n(this).click():39===t.which?n(this).next().focus().click():37===t.which&&n(this).prev().focus().click()}),n(i).on("change",".d4plib-widget-save",function(t){n(this).closest("form").find(".widget-control-actions input.button").click()}),n(i).on("change",".d4plib-div-switch",function(){var t=n(this).val(),i=n(this).closest(".widget-content");n(".d4p-div-block",i).hide(),n(".d4p-div-block-"+t,i).show()}),n(i).on("change",".d4plib-block-switch",function(t){var i=n(this).data("block"),e=n(this).val(),c=n(this).closest("table");n(".cellblock-"+i,c).hide(),n(".cellblockname-"+e,c).show()}),n(i).ajaxStop(function(){d4plib_widgets.settings()})},settings:function(){n(".d4p-color-picker:not(.wp-color-picker)").on("focus",function(){n(this).wpColorPicker()})}}).init(),d4plib_widgets.settings()}(jQuery,window,document);