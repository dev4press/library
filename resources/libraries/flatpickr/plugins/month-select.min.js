!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).monthSelectPlugin=t()}(this,function(){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n={shorthand:!1,dateFormat:"F Y",altFormat:"F Y",theme:"light"};return function(e){var r=t({},n,e);return function(l){l.config.dateFormat=r.dateFormat,l.config.altFormat=r.altFormat;var d={monthsContainer:null};function n(){if(l.rContainer){for(var e=l.rContainer.querySelectorAll(".flatpickr-monthSelect-month.selected"),t=0;t<e.length;t++)e[t].classList.remove("selected");var n=l.rContainer.querySelector(".flatpickr-monthSelect-month:nth-child("+(l.currentMonth+1)+")");n&&n.classList.add("selected")}}function e(){var e=l.selectedDates[0];e&&((e=new Date(e)).setFullYear(l.currentYear),l.config.minDate&&e<l.config.minDate&&(e=l.config.minDate),l.config.maxDate&&e>l.config.maxDate&&(e=l.config.maxDate),l.currentYear=e.getFullYear(),l.currentYearElement.value=String(l.currentYear),n()),l.rContainer&&l.rContainer.querySelectorAll(".flatpickr-monthSelect-month").forEach(function(e){e.dateObj.setFullYear(l.currentYear),l.config.minDate&&e.dateObj<l.config.minDate||l.config.maxDate&&e.dateObj>l.config.maxDate?e.classList.add("disabled"):e.classList.remove("disabled")})}function o(e){e.preventDefault(),e.stopPropagation(),e.target instanceof Element&&!e.target.classList.contains("disabled")&&(s(e.target.dateObj),l.close())}function s(e){var t=new Date(e);t.setFullYear(l.currentYear),l.currentMonth=t.getMonth(),l.setDate(t,!0),n()}var m={37:-1,39:1,40:3,38:-3};return{onParseConfig:function(){l.config.mode="single",l.config.enableTime=!1},onValueUpdate:n,onKeyDown:function(e,t,n,a){var o=void 0!==m[a.keyCode];if((o||13===a.keyCode)&&l.rContainer&&d.monthsContainer){var r=l.rContainer.querySelector(".flatpickr-monthSelect-month.selected"),i=Array.prototype.indexOf.call(d.monthsContainer.children,document.activeElement);if(-1===i){var c=r||d.monthsContainer.firstElementChild;c.focus(),i=c.$i}o?d.monthsContainer.children[(12+i+m[a.keyCode])%12].focus():13===a.keyCode&&d.monthsContainer.contains(document.activeElement)&&s(document.activeElement.dateObj)}},onReady:[function(){if(l.rContainer&&l.daysContainer&&l.weekdayContainer){l.rContainer.removeChild(l.daysContainer),l.rContainer.removeChild(l.weekdayContainer);for(var e=0;e<l.monthElements.length;e++){var t=l.monthElements[e];t.parentNode&&t.parentNode.removeChild(t)}}},function(){l._bind(l.prevMonthNav,"click",function(){l.currentYear-=1,e()}),l._bind(l.nextMonthNav,"mousedown",function(){l.currentYear+=1,e()})},function(){if(l.rContainer){d.monthsContainer=l._createElement("div","flatpickr-monthSelect-months"),d.monthsContainer.tabIndex=-1,l.calendarContainer.classList.add("flatpickr-monthSelect-theme-"+r.theme);for(var e=0;e<12;e++){var t=l._createElement("span","flatpickr-monthSelect-month");t.dateObj=new Date(l.currentYear,e),t.$i=e,t.textContent=(n=e,a=r.shorthand,l.l10n.months[a?"shorthand":"longhand"][n]),t.tabIndex=-1,t.addEventListener("click",o),d.monthsContainer.appendChild(t),(l.config.minDate&&t.dateObj<l.config.minDate||l.config.maxDate&&t.dateObj>l.config.maxDate)&&t.classList.add("disabled")}var n,a;l.rContainer.appendChild(d.monthsContainer)}},n,function(){l.loadedPlugins.push("monthSelect")}],onDestroy:function(){if(null!==d.monthsContainer)for(var e=d.monthsContainer.querySelectorAll(".flatpickr-monthSelect-month"),t=0;t<e.length;t++)e[t].removeEventListener("click",o)}}}}});