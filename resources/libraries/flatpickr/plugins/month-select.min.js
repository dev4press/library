!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).monthSelectPlugin=t()}(this,function(){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var n={shorthand:!1,dateFormat:"F Y",altFormat:"F Y",theme:"light"};return function(e){var r=t(t({},n),e);return function(l){l.config.dateFormat=r.dateFormat,l.config.altFormat=r.altFormat;var s={monthsContainer:null};function n(){if(l.rContainer){for(var e=l.rContainer.querySelectorAll(".flatpickr-monthSelect-month.selected"),t=0;t<e.length;t++)e[t].classList.remove("selected");var n=(l.selectedDates[0]||new Date).getMonth(),a=l.rContainer.querySelector(".flatpickr-monthSelect-month:nth-child("+(n+1)+")");a&&a.classList.add("selected")}}function t(){var e=l.selectedDates[0];e&&((e=new Date(e)).setFullYear(l.currentYear),l.config.minDate&&e<l.config.minDate&&(e=l.config.minDate),l.config.maxDate&&e>l.config.maxDate&&(e=l.config.maxDate),l.currentYear=e.getFullYear()),l.currentYearElement.value=String(l.currentYear),l.rContainer&&l.rContainer.querySelectorAll(".flatpickr-monthSelect-month").forEach(function(e){e.dateObj.setFullYear(l.currentYear),l.config.minDate&&e.dateObj<l.config.minDate||l.config.maxDate&&e.dateObj>l.config.maxDate?e.classList.add("disabled"):e.classList.remove("disabled")}),n()}function o(e){e.preventDefault(),e.stopPropagation();var t=function(t){try{return"function"!=typeof t.composedPath?t.target:t.composedPath()[0]}catch(e){return t.target}}(e);t instanceof Element&&!t.classList.contains("disabled")&&(d(t.dateObj),l.close())}function d(e){var t=new Date(e);t.setFullYear(l.currentYear),l.setDate(t,!0),n()}var f={37:-1,39:1,40:3,38:-3};return{onParseConfig:function(){l.config.mode="single",l.config.enableTime=!1},onValueUpdate:n,onKeyDown:function(e,t,n,a){var o=void 0!==f[a.keyCode];if((o||13===a.keyCode)&&l.rContainer&&s.monthsContainer){var r=l.rContainer.querySelector(".flatpickr-monthSelect-month.selected"),i=Array.prototype.indexOf.call(s.monthsContainer.children,document.activeElement);if(-1===i){var c=r||s.monthsContainer.firstElementChild;c.focus(),i=c.$i}o?s.monthsContainer.children[(12+i+f[a.keyCode])%12].focus():13===a.keyCode&&s.monthsContainer.contains(document.activeElement)&&d(document.activeElement.dateObj)}},onReady:[function(){l.currentMonth=0},function(){if(l.rContainer&&l.daysContainer&&l.weekdayContainer){l.rContainer.removeChild(l.daysContainer),l.rContainer.removeChild(l.weekdayContainer);for(var e=0;e<l.monthElements.length;e++){var t=l.monthElements[e];t.parentNode&&t.parentNode.removeChild(t)}}},function(){l._bind(l.prevMonthNav,"click",function(e){e.preventDefault(),e.stopPropagation(),l.changeYear(l.currentYear-1),t()}),l._bind(l.nextMonthNav,"click",function(e){e.preventDefault(),e.stopPropagation(),l.changeYear(l.currentYear+1),t()})},function(){if(l.rContainer){s.monthsContainer=l._createElement("div","flatpickr-monthSelect-months"),s.monthsContainer.tabIndex=-1,l.calendarContainer.classList.add("flatpickr-monthSelect-theme-"+r.theme);for(var e=0;e<12;e++){var t=l._createElement("span","flatpickr-monthSelect-month");t.dateObj=new Date(l.currentYear,e),t.$i=e,t.textContent=(n=e,a=r.shorthand,l.l10n.months[a?"shorthand":"longhand"][n]),t.tabIndex=-1,t.addEventListener("click",o),s.monthsContainer.appendChild(t),(l.config.minDate&&t.dateObj<l.config.minDate||l.config.maxDate&&t.dateObj>l.config.maxDate)&&t.classList.add("disabled")}var n,a;l.rContainer.appendChild(s.monthsContainer)}},n,function(){l.loadedPlugins.push("monthSelect")}],onDestroy:function(){if(null!==s.monthsContainer)for(var e=s.monthsContainer.querySelectorAll(".flatpickr-monthSelect-month"),t=0;t<e.length;t++)e[t].removeEventListener("click",o)}}}}});